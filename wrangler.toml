name = "flutter-theme-generator"
main = "src/worker.js"
compatibility_date = "2025-07-26"

# Static assets configuration for Workers
[site]
bucket = "./dist"
include = ["**/*"]
exclude = []

# Environment variables
[env.production.vars]
ENVIRONMENT = "production"

[env.preview.vars]
ENVIRONMENT = "preview"

# KV namespace for static assets
[[kv_namespaces]]
binding = "STATIC_ASSETS"
id = "8b7d5638811649a7a388b654d2dbdf6d"
preview_id = "8b7d5638811649a7a388b654d2dbdf6d"

# D1 Database for theme counter
[[d1_databases]]
binding = "THEME_DB"
database_name = "flutter-theme-counter"
database_id = "flutter-theme-counter-db"

# Build configuration
[build]
command = "npm run build"
cwd = "./"
watch_dir = "src"

[observability.logs]
enabled = true